<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="search" content="algolia"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="0"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><title>User Guide - Site-to-Site Private Connectivity</title><link rel="stylesheet" type="text/css" href="/cloud-docs/css/docbook.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/theme0.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/theme0-colors.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/style-print.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/style-common.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/html5.algoliasearch.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/layout-custom-style.css"></link><meta xmlns:xhtml="http://www.w3.org/1999/xhtml" name="generator" content="Paligo"></meta><link rel="prev" href="user-guide--zero-trust-application-access.html" title="User Guide: Zero Trust Application Access"></link><link rel="next" href="user-guide---remote-access-to-private-networks-using-domain-names-instead-of-overlapping-ip-addresses.html" title="User Guide - Remote access to private networks using Domain Names instead of overlapping IP addresses"></link><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/googlecode.min.css"></link></head><body class="theme0 page-toc collapsible-sidebar-nav current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix="../../"><style type="text/css">
            div.skipnav {
            }
            div.skipnav a {
                position: fixed;
                left: -10000px;
                top: 1.5em;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
            div.skipnav a:focus, div.skipnav a:active, div.skipnav a:hover {
                background: white;
                color: black;
                box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.5);
                position: fixed;
                left: 2em;
                top: 1.5em;
                width: auto;
                height: auto;
                overflow: visible;
                text-decoration: underline;
                z-index: 99999; /* has to be higher than the side panel */
    }
          </style><div class="skipnav"><a href="#content-wrapper">Skip to main content</a></div><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="/cloud-docs/index.html" target="_blank" rel="noopener"><img id="logotype-pageheader" src="/cloud-docs/css/image/corporate-logo.svg" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div class="collapse" id="navbar-collapse"><ul class="version-menu sm sm-simple"><li class="version-dropdown"><a><span class="caret"></span>Select version</a><ul class="version-dropdown"><li><a href="/cloud-docs/owner/index.html">Owner Documentation</a></li><li><a href="/cloud-docs/administrator/index.html">Admin Documentation</a></li><li><a href="/cloud-docs/user/index.html">User Documentation</a></li><li><a href="/cloud-docs/developer/index.html">Developer Documentation</a></li></ul></li></ul></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/cloud-docs/index.html" target="_blank" rel="noopener"><img id="logotype-pageheader" src="/cloud-docs/css/image/corporate-logo.svg" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><div class="toolbar top-nav-on"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"><ul class="version-menu sm sm-simple"><li class="version-dropdown"><a><span class="caret"></span>Select version</a><ul class="version-dropdown"><li><a href="/cloud-docs/owner/index.html">Owner Documentation</a></li><li><a href="/cloud-docs/administrator/index.html">Admin Documentation</a></li><li><a href="/cloud-docs/user/index.html">User Documentation</a></li><li><a href="/cloud-docs/developer/index.html">Developer Documentation</a></li></ul></li></ul></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"><a href="../../index-en.html">Tutorials</a></li><li class="breadcrumb-link"><a href="../../end-to-end-tutorials.html">End-to-End Tutorials</a></li><li class="breadcrumb-link"><a href="../scenarios.html">Scenarios</a></li><li class="breadcrumb-node"><span class="bold"><strong>User Guide - Site-to-Site Private Connectivity</strong></span></li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="user-guide--zero-trust-application-access.html">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="user-guide---remote-access-to-private-networks-using-domain-names-instead-of-overlapping-ip-addresses.html">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section reused-publication" data-origin-id="UUID-bc895601-f2ae-cd8c-6e59-c84b1c9d6bfb" data-permalink="end-to-end-tutorials/scenarios/user-guide---site-to-site-private-connectivity.html" data-topic-level="3" data-relative-prefix="../../" data-publication-date="" id="UUID-bc895601-f2ae-cd8c-6e59-c84b1c9d6bfb"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both"><span class="bold"><strong>User Guide - Site-to-Site Private Connectivity</strong></span></h1></div></div></div><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-529048dd-09a4-3b9a-4b1e-4a9de0a80b17" data-publication-date="" id="UUID-6a636143-ca66-13e5-be60-a52ae740fa84"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both"><span class="bold"><strong>Overview</strong></span></h2></div></div></div><p>Owen has completed the signup process as shown <a class="link" href="https://openvpn.net/cloud-docs/owner-signup/" target="_blank" rel="noopener">here</a>. During the signup process, Owen selects technop.openvpn.cloud as the web domain for the user portal. This domain uniquely identifies the VPN that will be set up by Owen and is used by Connect Client applications (VPN Client software) to identify the VPN that it needs to connect to.</p><p>Owen wants to create a Full-Mesh private Network among two private Networks (represented by AWS VPC in separate AWS Regions) and enable Remote Access to those Networks for himself and employees.</p><p>Owen wants to create a full-mesh private network among two private networks (represented by AWS VPC in separate AWS Regions) and enable remote access to those networks for himself and employees.</p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-53d65501-2327-258b-aaab-feff2bd6233d" data-publication-date="" id="UUID-389f4012-1aff-afd2-a285-a51ce3a27841"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both"><span class="bold"><strong>Illustration of WPC</strong></span></h2></div></div></div><div class="mediaobject"><img src="/cloud-docs/image/uuid-3a47a4cd-d2b3-1fe2-6181-133d2dbeb7ad.png" style="" alt="site_to_site.png"></img></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-52d1bd88-4ff7-12df-6d7a-e4fa9fe949a9" data-publication-date="" id="UUID-acf0c4b0-0bc6-2926-a242-c8b68de4651f"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both"><span class="bold"><strong>North California Network</strong></span></h2></div></div></div><p>North California network is using the <code class="code">172.31.0.0/16</code> subnet. Owen needs to configure this as the Network subnet that needs to be available from CloudConnexa.</p><div class="mediaobject"><img src="/cloud-docs/image/uuid-b667bf90-9f0e-9cee-0a3a-4c18acbb34e4.png" style="" alt="62eacb52bc05c.png"></img></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-491c0f81-5b13-1b9b-df6a-ebbc50c1b8f7" data-publication-date="" id="UUID-9cb0b6b5-c091-0e16-653b-da2920c6fea9"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both"><span class="bold"><strong>Configure Networks</strong></span></h2></div></div></div><p>Owen configures both networks using the Admin portal as shown below. See, <a class="link" href="https://openvpn.net/cloud-docs/adding-a-network-openvpn-cloud/" target="_blank" rel="noopener">Adding A Network</a>.</p><div class="mediaobject"><table class="image-viewport" style="border-collapse:collapse;border:0;
                                width:100%;
                            "><tr><td style="padding:0;"><img src="/cloud-docs/image/uuid-3df7f33f-0d4f-d2e3-bb81-b06ad390f3c4.png" style="width: 100%; " alt="62eacb54c9f9f.png"></img></td></tr></table></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-fe802e90-8749-8435-5b1c-3c2bd13f93e0" data-publication-date="" id="UUID-032748e1-4416-cfb0-c223-00b9fc4a21ec"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both"><span class="bold"><strong>Install Connector in North California Network</strong></span></h2></div></div></div><p>Owen installs Connector on one of the instances in the network and uses the respective Connector profile to get the instance connected to CloudConnexa. See, <a class="link" href="https://openvpn.net/cloud-docs/installing-network-connector-linux/" target="_blank" rel="noopener">Installing Network Connector – Linux</a>.</p><div class="mediaobject"><img src="/cloud-docs/image/uuid-efa6b07e-a99c-3169-95ea-c03b232d6afd.png" style="" alt="62eacb56750cf.png"></img></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-08c3b320-2f83-c687-2e0a-dcdae938a78e" data-publication-date="" id="UUID-170f8410-14cf-c935-29f1-30ad1f4ea177"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both"><span class="bold"><strong>Add routes in North California Network</strong></span></h2></div></div></div><p>Prior to adding routes, Owen disables ‘Source/Destination’ Check on the Network interface of the instance running the Connector.</p><p>He enables forwarding in the Linux kernel of the instance running the Connector.</p><p>From the command line he enters:</p><pre class="programlisting">
            <code class="code">sed -i 's/#net.ipv4.ip_forward=1/net.ipv4.ip_forward=1/g' /etc/sysctl.conf
sysctl -p</code>
         </pre><p>Next, he adds routes, in the route table associated with the VPC, for the Oregon Network and the CloudConnexa WPC subnets using the instance running the Connector as the next-hop Target.</p><div class="mediaobject"><img src="/cloud-docs/image/uuid-f47673dd-d4f2-ab8e-94f7-f73615cd240b.png" style="" alt="62eacb5836a6f.png"></img></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-52ba95db-29b1-6246-78c6-99e4d3eedcda" data-publication-date="" id="UUID-c2df3ed5-b221-ef2d-ba25-4f7fb439850b"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both"><span class="bold"><strong>Install Connector in Oregon Network</strong></span></h2></div></div></div><p>Owen installs a Connector on one of the instances in the Network and uses the respective Connector Profile to get the instance connected to CloudConnexa. See, <a class="link" href="https://openvpn.net/cloud-docs/installing-network-connector-linux/" target="_blank" rel="noopener">Installing Network Connector – Linux</a>.</p><div class="mediaobject"><img src="/cloud-docs/image/uuid-efa6b07e-a99c-3169-95ea-c03b232d6afd.png" style="" alt="62eacb56750cf.png"></img></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-5487e72e-1bd1-39f9-3df3-c45985c91502" data-publication-date="" id="UUID-f5921ce5-54d1-33b6-22ba-f529b365e4aa"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both"><span class="bold"><strong>Add Routes in Oregon Network</strong></span></h2></div></div></div><p>Prior to adding routes, Owen disables <span class="bold"><strong>Source/Destination</strong></span> Check on the Network interface of the instance running the Connector.</p><p>He enables forwarding in the Linux kernel of the instance running the Connector</p><p>From the command line he enters:</p><pre class="programlisting">
            <code class="code">sed -i 's/#net.ipv4.ip_forward=1/net.ipv4.ip_forward=1/g' /etc/sysctl.conf
sysctl -p</code>
         </pre><p>Next, he adds routes, in the route table associated with the VPC, for the North California Network and the CloudConnexa WPC subnets using the instance running the Connector as the next-hop Target.</p><div class="mediaobject"><img src="/cloud-docs/image/uuid-f47673dd-d4f2-ab8e-94f7-f73615cd240b.png" style="" alt="62eacb5836a6f.png"></img></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-40a390b8-8748-075d-7449-8896e4d1de0a" data-publication-date="" id="UUID-976a816d-bb5f-02aa-479d-b4f232256ce3"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both"><span class="bold"><strong>Test Connectivity</strong></span></h2></div></div></div><p>Now, Owen can connect his laptop to CloudConnexa using the Connect Client (see importing Profile section, <a class="link" href="https://openvpn.net/cloud-docs/user-guide-configuring-a-vpn-for-secure-access-to-internet/" target="_blank" rel="noopener">User Guide – Configuring a VPN for Secure Access to Internet</a>), and reach any instance in both of the private Networks. As shown below, instances in private Networks can also reach each other.</p><div class="mediaobject"><img src="/cloud-docs/image/uuid-48686623-fb2d-a2e2-0346-2c859c0d6056.png" style="" alt="62eacb5aa91e9.png"></img></div></section></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-bc895601-f2ae-cd8c-6e59-c84b1c9d6bfb">User Guide - Site-to-Site Private Connectivity</a></li><li><a href="#UUID-6a636143-ca66-13e5-be60-a52ae740fa84">Overview</a></li><li><a href="#UUID-389f4012-1aff-afd2-a285-a51ce3a27841">Illustration of WPC</a></li><li><a href="#UUID-acf0c4b0-0bc6-2926-a242-c8b68de4651f">North California Network</a></li><li><a href="#UUID-9cb0b6b5-c091-0e16-653b-da2920c6fea9">Configure Networks</a></li><li><a href="#UUID-032748e1-4416-cfb0-c223-00b9fc4a21ec">Install Connector in North California Network</a></li><li><a href="#UUID-170f8410-14cf-c935-29f1-30ad1f4ea177">Add routes in North California Network</a></li><li><a href="#UUID-c2df3ed5-b221-ef2d-ba25-4f7fb439850b">Install Connector in Oregon Network</a></li><li><a href="#UUID-f5921ce5-54d1-33b6-22ba-f529b365e4aa">Add Routes in Oregon Network</a></li><li><a href="#UUID-976a816d-bb5f-02aa-479d-b4f232256ce3">Test Connectivity</a></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div class="voting-title">Was this helpful?</div><div class="btn-group btn-group-toggle" data-toggle="buttons"><button id="feedback-yes-btn" class="btn toggle-yes">Yes</button><button id="feedback-no-btn" class="btn">No</button></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="user-guide--zero-trust-application-access.html">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="user-guide---remote-access-to-private-networks-using-domain-names-instead-of-overlapping-ip-addresses.html">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2023  </div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div><script type="text/javascript">
var theme = '0';

			
			window.versionsfile = '';


			window.indexDict = new Array();
			window.store = {};
			window.portalLanguage = 'en';
			window.enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				var instantsearch_minlength = 1;
						
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><script src="/cloud-docs/js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="/cloud-docs/js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="/cloud-docs/js/materialize.min.js" type="text/javascript"></script><script src="/cloud-docs/js/bootstrap.min.js" type="text/javascript"></script><script src="/cloud-docs/js/purl.js" type="text/javascript"></script><script src="/cloud-docs/js/jquery.smartmenus.js" type="text/javascript"></script><script src="/cloud-docs/tutorials/js/toc.js" type="text/javascript"></script><script src="/cloud-docs/js/create-toc.js" type="text/javascript"></script><script src="/cloud-docs/js/html5-2-mp-common.js" type="text/javascript"></script><script src="/cloud-docs/js/html5-2.js" type="text/javascript"></script><script src="/cloud-docs/js/checklist.js" type="text/javascript"></script><script src="/cloud-docs/js/clipboard.min.js" type="text/javascript"></script><script src="/cloud-docs/js/anchorlinks.js" type="text/javascript"></script><script src="/cloud-docs/js/html5.algoliasearch.js" type="text/javascript"></script><script src="/cloud-docs/js/csh.js" type="text/javascript"></script><script src="/cloud-docs/js/layout-custom-script.js" type="text/javascript"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><script type="text/javascript">const containerId = 'GTM-W3DL2JV';

						$(document).on('cookies.consented', () => {
							(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
								new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
								j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
								'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
							})(window,document,'script','dataLayer',containerId);
						});
					</script><script type="text/javascript" src="/cloud-docs/js/cookie-consent.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightBlock(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script><script type="text/javascript">var publication_id = 'docs_index';
var algolia_application_id = 'RSWCYN6WCZ';
var algolia_search_only_api_key = '62cb66cce7985fc867c172fa2d12bc1c';
</script><script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><!--Google Tag Manager (noscript)--><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W3DL2JV" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!--End Google Tag Manager (noscript)--></body></html>
