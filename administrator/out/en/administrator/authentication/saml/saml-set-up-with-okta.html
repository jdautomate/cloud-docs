<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="search" content="algolia"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="0"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><title>SAML set up with Okta</title><link rel="stylesheet" type="text/css" href="../../../../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/theme0.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/theme0-colors.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/html5.algoliasearch.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/layout-custom-style.css"></link><meta xmlns:xhtml="http://www.w3.org/1999/xhtml" name="generator" content="Paligo"></meta><meta name="keywords" content="CloudConnexa formerly known as OpenVPN Cloud, CloudConnexa Administrator"></meta><link rel="prev" href="saml-set-up-with-keycloak.html" title="SAML set up with Keycloak"></link><link rel="next" href="../ldap.html" title="LDAP"></link><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/googlecode.min.css"></link></head><body class="theme0 page-toc collapsible-sidebar-nav current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix="../../../"><style type="text/css">
            div.skipnav {
            }
            div.skipnav a {
                position: fixed;
                left: -10000px;
                top: 1.5em;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
            div.skipnav a:focus, div.skipnav a:active, div.skipnav a:hover {
                background: white;
                color: black;
                box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.5);
                position: fixed;
                left: 2em;
                top: 1.5em;
                width: auto;
                height: auto;
                overflow: visible;
                text-decoration: underline;
                z-index: 99999; /* has to be higher than the side panel */
    }
          </style><div class="skipnav"><a href="#content-wrapper">Skip to main content</a></div><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="/cloud-docs/index.html" target="_blank" rel="noopener"><img id="logotype-pageheader" src="../../../../css/image/corporate-logo.svg" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div class="collapse" id="navbar-collapse"><ul class="version-menu sm sm-simple"><li class="version-dropdown"><a><span class="caret"></span>Select version</a><ul class="version-dropdown"><li><a href="/cloud-docs/owner/index.html">Owner Documentation</a></li><li><a href="/cloud-docs/administrator/index.html">Admin Documentation</a></li><li><a href="/cloud-docs/user/index.html">User Documentation</a></li><li><a href="/cloud-docs/developer/index.html">Developer Documentation</a></li></ul></li></ul></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/cloud-docs/index.html" target="_blank" rel="noopener"><img id="logotype-pageheader" src="../../../../css/image/corporate-logo.svg" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><div class="toolbar top-nav-on"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"><ul class="version-menu sm sm-simple"><li class="version-dropdown"><a><span class="caret"></span>Select version</a><ul class="version-dropdown"><li><a href="/cloud-docs/owner/index.html">Owner Documentation</a></li><li><a href="/cloud-docs/administrator/index.html">Admin Documentation</a></li><li><a href="/cloud-docs/user/index.html">User Documentation</a></li><li><a href="/cloud-docs/developer/index.html">Developer Documentation</a></li></ul></li></ul></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"><a href="../../../index-en.html">Knowledge Base</a></li><li class="breadcrumb-link"><a href="../../../administrator.html"><span class="bold"><strong>Administrator</strong></span></a></li><li class="breadcrumb-link"><a href="../../authentication.html"><span class="bold"><strong>Authentication</strong></span></a></li><li class="breadcrumb-link"><a href="../saml.html"><span class="bold"><strong>SAML</strong></span></a></li><li class="breadcrumb-node"><span class="bold"><strong>SAML set up with Okta</strong></span></li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="saml-set-up-with-keycloak.html">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="../ldap.html">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section reused-publication" data-origin-id="UUID-96fb2a86-b7f7-8b2c-9887-619425c4c031" data-permalink="administrator/authentication/saml/saml-set-up-with-okta.html" data-topic-level="4" data-relative-prefix="../../../" data-publication-date="" id="UUID-96fb2a86-b7f7-8b2c-9887-619425c4c031"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both"><span class="bold"><strong>SAML set up with Okta</strong></span></h1></div></div></div><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-5b5a100c-98b9-4ae8-173a-191abc49b7d8" data-publication-date="" id="UUID-f028318b-3090-4a0e-7fae-839fda00e64b"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both"><span class="bold"><strong>Configuring CloudConnexa User authentication to use SAML</strong></span></h2></div><div><div class="abstract"><div class="abstract-title">Abstract</div><p>An administrator can configure CloudConnexa to authenticate access to the user portal, and download a VPN profile and VPN connections using a SAML 2.0 compliant Identity Provider.</p></div></div></div></div><p>The Administrator can configure CloudConnexa to authenticate access to the User Portal, download of WPC Profile, and WPC connections using a SAML 2.0 compliant Identity Provider.</p><p>The Administrator needs to follow the steps below. The steps below use Okta as the Identity Provider. Basic configuration guides for some of the other popular Identity as a Service (IDaaS) providers are provided separately.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Sign in to the CloudConnexa Administration portal at <code class="code">https://cloud.openvpn.com/</code>.</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>Navigate to <span class="bold"><strong>Settings</strong></span> section and click on the <span class="bold"><strong>User Authentication</strong></span> tab.</p></li><li class="listitem"><p>Click on the <span class="bold"><strong>Edit</strong></span> button positioned on the top right</p></li><li class="listitem"><p>Click on the <span class="bold"><strong>Configure</strong></span> button under the <span class="bold"><strong>SAML</strong></span> option</p></li><li class="listitem"><p>The <span class="bold"><strong>SAML Configuration</strong></span> web page opens in a new browser window/tab and shows the information needed to configure CloudConnexa as a Service Provider in your Identity Provider.</p></li></ol></div></li><li class="listitem"><p>Login to the administration console of the Identity Provider to configure CloudConnexa as a SAML Service Provider. The steps for Okta are below:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>Navigate to <span class="bold"><strong>Applications</strong></span> tab, <span class="bold"><strong>Add Application</strong></span> and click on the <span class="bold"><strong>Create New App</strong></span> button.</p></li><li class="listitem"><p>Select <span class="bold"><strong>Platform</strong></span> as <span class="bold"><strong>Web</strong></span> and <span class="bold"><strong>SAML 2.0</strong></span> as <span class="bold"><strong>Sign on method</strong></span> then click on the <span class="bold"><strong>Create</strong></span> button.</p></li><li class="listitem"><p>Provide an<span class="bold"><strong> Application Name</strong></span> and click on the <span class="bold"><strong>Next</strong></span> button. In the <span class="bold"><strong>General</strong></span> tab:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Enter the <span class="bold"><strong>Issuer Name</strong></span> displayed in the <span class="bold"><strong>SAML Configuration</strong></span> web page of CloudConnexa into the <span class="bold"><strong>Audience URI (SP Entity ID)</strong></span> input field of Okta</p></li><li class="listitem"><p>Enter the <span class="bold"><strong>SSO URL</strong></span> displayed in the SAML Configuration web page of CloudConnexa into the <span class="bold"><strong>Single Sign On URL Validator and ACS (Consumer) URL</strong></span> input field of Okta</p></li><li class="listitem"><p>Checkmark the <span class="bold"><strong>Use this for Recipient URL and Destination URL</strong></span> option</p></li><li class="listitem"><p>Select <span class="bold"><strong>EmailAddress</strong></span> as the <span class="bold"><strong>Name ID format</strong></span></p></li><li class="listitem"><p>Click on the <span class="bold"><strong>Next</strong></span> button</p></li></ul></div></li><li class="listitem"><p>On the last page, select <span class="bold"><strong>I'm an Okta customer adding an internal app</strong></span>, and click on the <span class="bold"><strong>Finish</strong></span> button.</p></li><li class="listitem"><p>Click on the <span class="bold"><strong>Sign On</strong></span> tab and click on the <span class="bold"><strong>View set up Instructions</strong></span> button.</p></li><li class="listitem"><p>The <code class="code">X.509 Certificate</code> and the <span class="bold"><strong>Identity Provider Single Sign-On URL</strong></span> will be needed later. Copy and paste this information for use later or keep this browser window open.</p></li><li class="listitem"><p>Now that CloudConnexa has been set up as an application, you need to provide applicable Users access to CloudConnexa application. Click on the <span class="bold"><strong>Assignment</strong></span> tab of the application and assign it to applicable Users or select the User and assign the application.</p></li><li class="listitem"><p>Okta will only provide the NameID value to the Service Provider by default which CloudConnexa will map to the username of the User. If you want CloudConnexa to have more information about the User and to use the value of a specific User attribute to map the User into a CloudConnexa User Group, you need to configure parameters to be sent from <span class="bold"><strong>Okta to App</strong></span> See, <a class="link" href="https://help.okta.com/en/prod/Content/Topics/users-groups-profiles/usgp-map-attributes.htm" target="_blank" rel="noopener">https://help.okta.com/en/prod/Content/Topics/Users-groups-profiles/usgp-map-attributes.htm</a></p></li></ol></div></li><li class="listitem"><p>Go back to the browser tab/window displaying the CloudConnexa and take the following actions:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>Click on the <span class="bold"><strong>Next</strong></span> button</p></li><li class="listitem"><p>Provide an <span class="bold"><strong>IdP Name</strong></span> Select <span class="bold"><strong>Manual Configuration</strong></span>, and do the following:</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem"><p>Click on the <span class="bold"><strong>Next</strong></span> button</p></li><li class="listitem"><p>Provide an IdP <span class="bold"><strong>Name</strong></span>, Select <span class="bold"><strong>Manual Configuration</strong></span>, and do the following:</p><div class="orderedlist"><ol class="orderedlist" type="A"><li class="listitem"><p>Paste the <span class="bold"><strong>Identity Provider Single Sign-On URL</strong></span> value copied earlier in step ‘2.f’ into the<span class="bold"><strong> IdP Authentication Endpoint</strong></span></p></li><li class="listitem"><p>Paste the <code class="code">X.509 Certificate</code> copied earlier in step ‘2.f’ into the<code class="code">IdP X.509 Public Certificate</code></p></li></ol></div></li></ol></div></li><li class="listitem"><p>If earlier in step ‘<span class="bold"><strong>2.h</strong></span> you had set up additional parameters to map into CloudConnexa User information, do the following or else click on the <span class="bold"><strong>Next</strong></span> button:</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem"><p>Expand the <span class="bold"><strong>Advanced settings</strong></span> section</p></li><li class="listitem"><p>In the <span class="bold"><strong>Attribute Mapping</strong></span> section provide the Identity Provider parameter names corresponding to the CloudConnexa User information fields that you want to be populated with information from the Identity Provider’s parameters (SAML attributes) and click on the <span class="bold"><strong>Next</strong></span> button when done</p></li></ol></div></li><li class="listitem"><p>Click on the <span class="bold"><strong>Finish</strong></span> button after reviewing the SAML configuration</p></li><li class="listitem"><p>Now that the SAML configuration is done, we need to enable SAML as the User authentication method by clicking on the <span class="bold"><strong>Edit</strong></span> button in the <span class="bold"><strong>User Authentication</strong></span> tab</p></li><li class="listitem"><p>Select the <span class="bold"><strong>SAML</strong></span> option</p></li><li class="listitem"><p>If earlier in step ‘2.h’ you had set up an additional parameter with the intention to map the value of that parameter to CloudConnexa User Group, do the following or else click on the <span class="bold"><strong>Update Settings</strong></span> button:</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem"><p>Click on the <span class="bold"><strong>Add Rule</strong></span> button</p></li><li class="listitem"><p>Enter in <span class="bold"><strong>SAML IdP User Group(s)</strong></span> field one or more of the values that will present in the IDP provided parameter that you had mapped to the <span class="bold"><strong>Group</strong></span> attribute in step ‘3.c.ii’and select the corresponding you want those values to map into. For example, the IdP User’s department value of ‘DEV’ could map to CloudConnexa User Group ‘Dev’ which has been configured to provide access to resources for developers. Repeat the step to add more rules as desired and click on the <span class="bold"><strong>Update Settings</strong></span> button when done</p></li></ol></div></li><li class="listitem"><p>Click the <span class="bold"><strong>Confirm</strong></span> button on the confirmation dialog</p></li><li class="listitem"><p>SAML is now enabled</p></li></ol></div></li></ol></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-eda9cd37-7586-894a-5148-80c9fa447ed9" data-publication-date="" id="UUID-4d94f87c-e7af-d8ad-17f4-102814bfdd80"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both">Login to User Portal</h2></div></div></div><p>Now that SAML is enabled for the WPC when a User wants to sign in to the User Portal to download Connect Client or manage Devices etc., the User will sign in using SSO credentials. When the User visits the User Portal (for example, at <a class="link" href="https://test8.openvpn.cloud/" target="_blank" rel="noopener">https://test8.openvpn.cloud</a>), the User will see the Identity Provider’s login screen</p><div class="mediaobject"><img src="../../../image/uuid-9d23afb8-c447-1627-64e2-614de9e68b26.png" style="" alt="62eac8a30b7e5.png"></img></div><p>On successful first authentication, the Administrator will see the User details show up in the Administration portal.</p><div class="mediaobject"><img src="../../../image/uuid-45f37751-5908-3ac2-7155-c044d845c4cb.png" style="" alt="62eac8a4c1d74.png"></img></div><p>In the screenshot above, you can see that the <code class="code">user1</code> has been added after SAML authentication because the <span class="bold"><strong>Auth Source</strong></span> is shown as SAML.</p></section></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-96fb2a86-b7f7-8b2c-9887-619425c4c031">SAML set up with Okta</a></li><li><a href="#UUID-f028318b-3090-4a0e-7fae-839fda00e64b">Configuring CloudConnexa User authentication to use SAML</a></li><li><a href="#UUID-4d94f87c-e7af-d8ad-17f4-102814bfdd80">Login to User Portal</a></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div class="voting-title">Was this helpful?</div><div class="btn-group btn-group-toggle" data-toggle="buttons"><button id="feedback-yes-btn" class="btn toggle-yes">Yes</button><button id="feedback-no-btn" class="btn">No</button></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="saml-set-up-with-keycloak.html">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="../ldap.html">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2023  </div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div><script type="text/javascript">
var theme = '0';

			
			window.versionsfile = '';


			window.indexDict = new Array();
			window.store = {};
			window.portalLanguage = 'en';
			window.enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				var instantsearch_minlength = 1;
						
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><script src="../../../../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../../../../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../../../../js/materialize.min.js" type="text/javascript"></script><script src="../../../../js/bootstrap.min.js" type="text/javascript"></script><script src="../../../../js/purl.js" type="text/javascript"></script><script src="../../../../js/jquery.smartmenus.js" type="text/javascript"></script><script src="../../../js/toc.js" type="text/javascript"></script><script src="../../../../js/create-toc.js" type="text/javascript"></script><script src="../../../../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../../../../js/html5-2.js" type="text/javascript"></script><script src="../../../../js/checklist.js" type="text/javascript"></script><script src="../../../../js/clipboard.min.js" type="text/javascript"></script><script src="../../../../js/anchorlinks.js" type="text/javascript"></script><script src="../../../../js/html5.algoliasearch.js" type="text/javascript"></script><script src="../../../../js/csh.js" type="text/javascript"></script><script src="../../../../js/layout-custom-script.js" type="text/javascript"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><script type="text/javascript">const containerId = 'GTM-W3DL2JV';

						$(document).on('cookies.consented', () => {
							(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
								new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
								j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
								'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
							})(window,document,'script','dataLayer',containerId);
						});
					</script><script type="text/javascript" src="../../../../js/cookie-consent.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightBlock(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script><script type="text/javascript">var publication_id = 'docs_index';
var algolia_application_id = 'RSWCYN6WCZ';
var algolia_search_only_api_key = '62cb66cce7985fc867c172fa2d12bc1c';
</script><script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><!--Google Tag Manager (noscript)--><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W3DL2JV" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!--End Google Tag Manager (noscript)--></body></html>
