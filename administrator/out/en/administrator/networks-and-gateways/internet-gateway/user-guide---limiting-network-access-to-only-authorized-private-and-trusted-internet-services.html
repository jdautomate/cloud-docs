<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="search" content="algolia"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="0"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><title>User Guide - Limiting Network access to only authorized private and trusted internet services</title><link rel="stylesheet" type="text/css" href="../../../../css/docbook.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/theme0.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/theme0-colors.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/style-print.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/style-common.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/html5.algoliasearch.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="../../../../css/layout-custom-style.css"></link><meta xmlns:xhtml="http://www.w3.org/1999/xhtml" name="generator" content="Paligo"></meta><meta name="keywords" content="CloudConnexa formerly known as OpenVPN Cloud, CloudConnexa Administrator"></meta><link rel="prev" href="user-guide---routing-traffic-to-specific-public-internet-domains-through-a-wpc.html" title="User Guide - Routing traffic to specific public internet domains through a WPC"></link><link rel="next" href="../../connectors.html" title="Connectors"></link><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/googlecode.min.css"></link></head><body class="theme0 page-toc collapsible-sidebar-nav current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix="../../../"><style type="text/css">
            div.skipnav {
            }
            div.skipnav a {
                position: fixed;
                left: -10000px;
                top: 1.5em;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
            div.skipnav a:focus, div.skipnav a:active, div.skipnav a:hover {
                background: white;
                color: black;
                box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.5);
                position: fixed;
                left: 2em;
                top: 1.5em;
                width: auto;
                height: auto;
                overflow: visible;
                text-decoration: underline;
                z-index: 99999; /* has to be higher than the side panel */
    }
          </style><div class="skipnav"><a href="#content-wrapper">Skip to main content</a></div><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="/cloud-docs/index.html" target="_blank" rel="noopener"><img id="logotype-pageheader" src="../../../../css/image/corporate-logo.svg" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div class="collapse" id="navbar-collapse"><ul class="version-menu sm sm-simple"><li class="version-dropdown"><a><span class="caret"></span>Select version</a><ul class="version-dropdown"><li><a href="/cloud-docs/owner/index.html">Owner Documentation</a></li><li><a href="/cloud-docs/administrator/index.html">Admin Documentation</a></li><li><a href="/cloud-docs/user/index.html">User Documentation</a></li><li><a href="/cloud-docs/developer/index.html">Developer Documentation</a></li></ul></li></ul></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/cloud-docs/index.html" target="_blank" rel="noopener"><img id="logotype-pageheader" src="../../../../css/image/corporate-logo.svg" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><div class="toolbar top-nav-on"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"><ul class="version-menu sm sm-simple"><li class="version-dropdown"><a><span class="caret"></span>Select version</a><ul class="version-dropdown"><li><a href="/cloud-docs/owner/index.html">Owner Documentation</a></li><li><a href="/cloud-docs/administrator/index.html">Admin Documentation</a></li><li><a href="/cloud-docs/user/index.html">User Documentation</a></li><li><a href="/cloud-docs/developer/index.html">Developer Documentation</a></li></ul></li></ul></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"><a href="../../../index-en.html">Knowledge Base</a></li><li class="breadcrumb-link"><a href="../../../administrator.html"><span class="bold"><strong>Administrator</strong></span></a></li><li class="breadcrumb-link"><a href="../../networks-and-gateways.html"><span class="bold"><strong>Networks and Gateways</strong></span></a></li><li class="breadcrumb-link"><a href="../internet-gateway.html"><span class="bold"><strong>Internet Gateway</strong></span></a></li><li class="breadcrumb-node"><span class="bold"><strong>User Guide - Limiting Network access to only authorized private and trusted internet services</strong></span></li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="user-guide---routing-traffic-to-specific-public-internet-domains-through-a-wpc.html">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="../../connectors.html">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section reused-publication" data-origin-id="UUID-71375b57-fc1c-acf5-7de0-6a2deb5d181c" data-permalink="administrator/networks-and-gateways/internet-gateway/user-guide---limiting-network-access-to-only-authorized-private-and-trusted-internet-services.html" data-topic-level="4" data-relative-prefix="../../../" data-publication-date="" id="UUID-71375b57-fc1c-acf5-7de0-6a2deb5d181c"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both"><span class="bold"><strong>User Guide - Limiting Network access to only authorized private and trusted internet services</strong></span></h1></div></div></div><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-c1a9d348-cba4-e21c-0106-ba8c29d9f602" data-publication-date="" id="UUID-890f5f72-be01-c544-fc29-927489a81542"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both"><span class="bold"><strong>Overview</strong></span></h2></div></div></div><p>A military contracting services company carries out software development of highly sensitive applications of national security importance. They provide their employees with company-owned laptops that are managed and locked-down by the IT department.</p><p>Owen is in charge of IT and Networking for this company. Remote access needs to be provided to a handful of management employees. He has been tasked to find a Network-as-a-Service solution that, based on the User’s identity, restricts Network and internet access to:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Authorized applications hosted in specific private Networks IP address subnets ranges.</p></li><li class="listitem"><p>Access to specific private domains.</p></li><li class="listitem"><p>Only HTTPS access to all private services.</p></li><li class="listitem"><p>No access to the internet except a select set of domains</p></li></ol></div><p>Owen decides to use CloudConnexa to build a WPC that provides secure Remote Access to its private Network and the internet. He completes the signup process as shown <a class="link" href="https://openvpn.net/cloud-docs/owner-signup/" target="_blank" rel="noopener">here</a>. During the signup process, Owen selects a CloudConnexa-ID for his WPC. This [CloudConnexa-ID].openvpn.com domain uniquely identifies the WPC that has been set up by Owen.</p></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-bce77a83-cce1-c620-d845-a46ee86756af" data-publication-date="" id="UUID-9b5baedb-1a10-2821-6906-9e76187afb64"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both"><span class="bold"><strong>Set up</strong></span></h2></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>On the <span class="bold"><strong>WPC</strong></span> section of the <span class="bold"><strong>Settings</strong></span> page, Owen sets <a class="link" href="https://openvpn.net/cloud-docs/changing-vpn-subnets/" target="_blank" rel="noopener"><span class="emphasis"><em>WPC Topology to Custom</em></span></a> so that access rules can be enforced.</p></li><li class="listitem"><p>Owen adds the IP address range of the subnet that Hosts internal applications <a class="link" href="https://openvpn.net/cloud-docs/adding-a-network/" target="_blank" rel="noopener">as a Network</a> named <span class="emphasis"><em>app_Network</em></span>. In spite of the private Network having access to the Internet, he does not enable <span class="bold"><strong>Internet Gateway</strong></span> because there is no need for the Network to announce the default route to the WPC but only routes for a specific set of internet domains.</p></li><li class="listitem"><p>Owen <a class="link" href="https://openvpn.net/cloud-docs/giving-public-domain-name-to-network-service/" target="_blank" rel="noopener">adds the following as services</a> for the <span class="emphasis"><em>app_network</em></span>:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p>Adds a service of <span class="emphasis"><em>type</em></span> set to <span class="bold"><strong>domain</strong></span> for each of the allowed set of public domains: <code class="code">cnn.com</code>,<code class="code"> .mil</code>, <code class="code">.gov</code>, and l<code class="code">inkedin.com</code></p></li><li class="listitem"><p>Adds a service with <span class="emphasis"><em>type</em></span> set to <code class="code"><span class="bold"><strong>IPv4</strong></span></code> and <span class="emphasis"><em>service</em></span> set to <span class="bold"><strong>HTTPS</strong></span> for the IP address subnet range of <span class="emphasis"><em>app_network</em></span></p></li></ol></div></li><li class="listitem"><p>Owen then <a class="link" href="https://openvpn.net/cloud-docs/installing-connector-for-linux/" target="_blank" rel="noopener">installs the Connector</a> on a computer running Linux on the private subnet. He sets that instance to <a class="link" href="https://openvpn.net/cloud-docs/connecting-networks-to-openvpn-cloud-using-connectors-2/" target="_blank" rel="noopener">enable IPv4 forwarding and NAT on the private IP address</a>.</p></li><li class="listitem"><p>The DNS systems reside in the same subnet as <span class="emphasis"><em>app_network.</em></span> To allow the Users to resolve private domain names while connected to the WPC, Owen <a class="link" href="https://openvpn.net/cloud-docs/changing-dns-servers/" target="_blank" rel="noopener">configures the private DNS servers</a> as the <span class="emphasis"><em>DNS Servers</em></span> on the WPC section of the <span class="bold"><strong>Settings</strong></span> page.</p></li><li class="listitem"><p>On the <span class="bold"><strong>Groups</strong></span> tab of the <span class="bold"><strong>Users</strong></span> page, he adds a new group called <span class="emphasis"><em>Mngmt</em></span> withthe <span class="bold"><strong>Internet Access</strong></span> setting set to <span class="bold"><strong>Block</strong></span> This means that all the internet traffic from the User’s Device will be tunneled to CloudConnexa and all that traffic will be dropped, except the ones destined to configured pubic domains as services for <span class="emphasis"><em>app_network.</em></span> He sets <a class="link" href="https://openvpn.net/cloud-docs/openvpn-cloud-authentication-type/" target="_blank" rel="noopener">Connect Auth</a> to the value of <span class="bold"><strong>every time</strong></span> so that the WPC Users need to always enter their credentials when they connect to the WPC.</p></li><li class="listitem"><p>To enforce access control, Owen <a class="link" href="https://openvpn.net/cloud-docs/add-access-group/" target="_blank" rel="noopener">creates an Access Group</a> with the <span class="bold"><strong>User Group </strong></span> <span class="emphasis"><em>Mngmt</em></span> as the source and all the services belonging to <span class="emphasis"><em>app_network</em></span> as the destinations.</p></li><li class="listitem"><p>On the <span class="bold"><strong>User</strong></span> section of the <span class="bold"><strong>Settings</strong></span> page, Owen sets <a class="link" href="https://openvpn.net/cloud-docs/switching-to-manual-profile-distribution-creating-a-device/" target="_blank" rel="noopener"><span class="emphasis"><em>Profile Distribution</em></span> to <span class="emphasis"><em>Manual</em></span></a>. The use of this setting disables the Users from using their logins to automatically activate Devices and import profiles.</p></li><li class="listitem"><p>Owen adds the management employees as Users and assigns them to the <span class="emphasis"><em>Mngmt</em></span> group. He then <a class="link" href="https://openvpn.net/cloud-docs/switching-to-manual-profile-distribution-creating-a-device/" target="_blank" rel="noopener">adds a Device</a> for each one of them. He then downloads the Device Profile for each User’s Device.</p></li><li class="listitem"><p>For each of the laptops, Owen installs the CloudConnexa Connect client and uses <a class="link" href="https://openvpn.net/cloud-docs/user-imports-received-profile-into-connect-client/" target="_blank" rel="noopener">file import</a> to add the respective Profile for the User’s Device. He uses a third-party endpoint management software to add a policy to always connect to CloudConnexa when a Network connection is active.</p></li></ol></div><p>After this setup, anytime the laptops connect to a Network (whether internal or public) the laptop will establish a WPC connection, after authentication, to CloudConnexa in order to gain HTTPS access to apps hosted on the private Network and a select set of internet sites.</p><p> </p></section></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-71375b57-fc1c-acf5-7de0-6a2deb5d181c">User Guide - Limiting Network access to only authorized private and trusted internet services</a></li><li><a href="#UUID-890f5f72-be01-c544-fc29-927489a81542">Overview</a></li><li><a href="#UUID-9b5baedb-1a10-2821-6906-9e76187afb64">Set up</a></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div class="voting-title">Was this helpful?</div><div class="btn-group btn-group-toggle" data-toggle="buttons"><button id="feedback-yes-btn" class="btn toggle-yes">Yes</button><button id="feedback-no-btn" class="btn">No</button></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="user-guide---routing-traffic-to-specific-public-internet-domains-through-a-wpc.html">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="../../connectors.html">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2023  </div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div><script type="text/javascript">
var theme = '0';

			
			window.versionsfile = '';


			window.indexDict = new Array();
			window.store = {};
			window.portalLanguage = 'en';
			window.enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				var instantsearch_minlength = 1;
						
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><script src="../../../../js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="../../../../js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="../../../../js/materialize.min.js" type="text/javascript"></script><script src="../../../../js/bootstrap.min.js" type="text/javascript"></script><script src="../../../../js/purl.js" type="text/javascript"></script><script src="../../../../js/jquery.smartmenus.js" type="text/javascript"></script><script src="../../../js/toc.js" type="text/javascript"></script><script src="../../../../js/create-toc.js" type="text/javascript"></script><script src="../../../../js/html5-2-mp-common.js" type="text/javascript"></script><script src="../../../../js/html5-2.js" type="text/javascript"></script><script src="../../../../js/checklist.js" type="text/javascript"></script><script src="../../../../js/clipboard.min.js" type="text/javascript"></script><script src="../../../../js/anchorlinks.js" type="text/javascript"></script><script src="../../../../js/html5.algoliasearch.js" type="text/javascript"></script><script src="../../../../js/csh.js" type="text/javascript"></script><script src="../../../../js/layout-custom-script.js" type="text/javascript"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><script type="text/javascript">const containerId = 'GTM-W3DL2JV';

						$(document).on('cookies.consented', () => {
							(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
								new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
								j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
								'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
							})(window,document,'script','dataLayer',containerId);
						});
					</script><script type="text/javascript" src="../../../../js/cookie-consent.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightBlock(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script><script type="text/javascript">var publication_id = 'docs_index';
var algolia_application_id = 'RSWCYN6WCZ';
var algolia_search_only_api_key = '62cb66cce7985fc867c172fa2d12bc1c';
</script><script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><!--Google Tag Manager (noscript)--><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W3DL2JV" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!--End Google Tag Manager (noscript)--></body></html>
