<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"></meta><meta name="format-detection" content="telephone=no"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><meta name="search" content="algolia"></meta><meta name="use.ic" content="no"></meta><meta name="tocstandalone" content="yes"></meta><meta name="theme" content="0"></meta><meta name="search.placeholder" content="Search"></meta><meta name="search.results" content="Search results"></meta><meta name="no.search.results" content="No results found"></meta><title>User Guide - Using WPC for role-based access control to SaaS applications</title><link rel="stylesheet" type="text/css" href="/cloud-docs/css/docbook.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/font-awesome.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/roboto.font.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/theme0.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/theme0-colors.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/content-theme2.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/sm-core-css.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/sm-simple.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/style-print.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/style-common.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/html5.algoliasearch.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/style-modern-tables.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/graphical-lists.css"></link><link rel="stylesheet" type="text/css" href="/cloud-docs/css/layout-custom-style.css"></link><meta xmlns:xhtml="http://www.w3.org/1999/xhtml" name="generator" content="Paligo"></meta><meta name="keywords" content="CloudConnexa formerly known as OpenVPN Cloud, CloudConnexa Administrator"></meta><link rel="prev" href="user-guide---whitelisting-access-to-saas-for-a-distributed-workforce.html" title="User Guide - Whitelisting access to SaaS for a distributed workforce"></link><link rel="next" href="cyber-shield.html" title="Cyber Shield"></link><link rel="icon" href="/favicon.ico" type="image/x-icon"></link><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/googlecode.min.css"></link></head><body class="theme0 page-toc collapsible-sidebar-nav current-toc-section-focus" data-spy="scroll" data-target=".section-nav-container" data-offset="100" data-link-prefix="../../../"><style type="text/css">
            div.skipnav {
            }
            div.skipnav a {
                position: fixed;
                left: -10000px;
                top: 1.5em;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
            div.skipnav a:focus, div.skipnav a:active, div.skipnav a:hover {
                background: white;
                color: black;
                box-shadow: 5px 5px 5px 0px rgba(0,0,0,0.5);
                position: fixed;
                left: 2em;
                top: 1.5em;
                width: auto;
                height: auto;
                overflow: visible;
                text-decoration: underline;
                z-index: 99999; /* has to be higher than the side panel */
    }
          </style><div class="skipnav"><a href="#content-wrapper">Skip to main content</a></div><header class="site-header"><nav class="site-header-navbar navbar navbar-fixed-top"><div class="navbar-container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div id="logotype-container" class="pull-left"><a class="navbar-brand" href="/cloud-docs/index.html" target="_blank" rel="noopener"><img id="logotype-pageheader" src="/cloud-docs/css/image/corporate-logo.svg" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div></div><div class="collapse" id="navbar-collapse"><ul class="version-menu sm sm-simple"><li class="version-dropdown"><a><span class="caret"></span>Select version</a><ul class="version-dropdown"><li><a href="/cloud-docs/owner/index.html">Owner Documentation</a></li><li><a href="/cloud-docs/administrator/index.html">Admin Documentation</a></li><li><a href="/cloud-docs/user/index.html">User Documentation</a></li><li><a href="/cloud-docs/developer/index.html">Developer Documentation</a></li></ul></li></ul></div></div></nav></header><div class="site-body"><div class="site-body-container"><div class="site-body-row"><aside class="site-sidebar"><div class="site-sidebar-header"><button type="button" class="navbar-toggle" aria-controls="nav-site-sidebar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/cloud-docs/index.html" target="_blank" rel="noopener"><img id="logotype-pageheader" src="/cloud-docs/css/image/corporate-logo.svg" alt="Corporate logotype" data-role="logotype" class="logo"></img></a></div><div id="toc-standalone-placeholder"></div></aside><div class="site-content"><div class="toolbar top-nav-on"><div class="toolbar-tools"><div id="navbar" class="navbar-collapse collapse"><ul class="version-menu sm sm-simple"><li class="version-dropdown"><a><span class="caret"></span>Select version</a><ul class="version-dropdown"><li><a href="/cloud-docs/owner/index.html">Owner Documentation</a></li><li><a href="/cloud-docs/administrator/index.html">Admin Documentation</a></li><li><a href="/cloud-docs/user/index.html">User Documentation</a></li><li><a href="/cloud-docs/developer/index.html">Developer Documentation</a></li></ul></li></ul></div><div class="tool-print"><i class="fa fa-print" aria-hidden="true">print</i></div><div class="tool-search"><i class="fa fa-search" aria-hidden="true"></i></div><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".site-sidebar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="breadcrumb-container"><ul class="breadcrumb"><li class="breadcrumb-link"><a href="../../../index-en.html">Knowledge Base</a></li><li class="breadcrumb-link"><a href="../../../administrator.html"><span class="bold"><strong>Administrator</strong></span></a></li><li class="breadcrumb-link"><a href="../../wide-area-private-cloud-access.html"><span class="bold"><strong>Wide-area Private Cloud Access</strong></span></a></li><li class="breadcrumb-link"><a href="../ztna.html"><span class="bold"><strong>ZTNA</strong></span></a></li><li class="breadcrumb-node">User Guide - Using WPC for role-based access control to SaaS applications</li></ul></div></div><main><div id="top-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="user-guide---whitelisting-access-to-saas-for-a-distributed-workforce.html">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="cyber-shield.html">Next</a></li></ul></div><article class="topic content-container" id="content-wrapper"><div id="topic-content" class="topic-content"><section xml:lang="en" lang="en" dir="ltr" class="section reused-publication" data-origin-id="UUID-28586893-399b-e40a-154f-8c1c67a23ad1" data-permalink="administrator/wide-area-private-cloud-access/ztna/user-guide---using-wpc-for-role-based-access-control-to-saas-applications.html" data-topic-level="4" data-relative-prefix="../../../" data-publication-date="" id="UUID-28586893-399b-e40a-154f-8c1c67a23ad1"><div class="titlepage"><div><div class="title"><h1 class="title" style="clear: both">User Guide - Using WPC for role-based access control to SaaS applications</h1></div></div></div><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-8ab8f071-0305-b3df-b6a8-1c8e7dbd0b0e" data-publication-date="" id="UUID-4d3ef1c2-630e-a328-7dc9-4db26afd506e"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both"><span class="bold"><strong>Overview</strong></span></h2></div></div></div><p>In this document, we examine a WPC set up to meet the needs of a fictitious company. This company based in the USA has a Sales team located in California and a technical support team in the midwest. The sales team uses a SaaS application called Salesforce and the support team uses a SaaS application called Zendesk. The company also uses OneLogin as its IDaaS provider for Single Sign-On (SSO) implementation.</p><p>Owen is in charge of IT and Networking for this company. Owen is already using CloudConnexa for the company as a solution to provide employees with Remote Access to private Network resources. He now wants to add additional protection for the usage of SaaS applications by enforcing role-based access control at a Network-level.</p><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-b04e7358-aa02-b551-58b0-ac32d77590fc" data-publication-date="" id="UUID-13d985bb-2811-c759-0bbf-0c8a40278f5a"><div class="titlepage"><div><div class="title"><h3 class="title"><span class="bold"><strong>Objectives</strong></span></h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Enforce role-based access control to SaaS applications at the Network-layer by only allowing employees in specific departments access to applicable SaaS applications. For example, only employees in the Sales department can access Salesforce.</p></li><li class="listitem"><p>Only transport traffic to the SaaS apps through the WPC while traffic to other internet destinations is transported outside the WPC. For example, internet traffic to Google does not use WPC but traffic to Salesforce and Zendesk is transported inside the WPC tunnel.</p></li><li class="listitem"><p>Route SaaS traffic via CloudConnexa Regions that are geographically close to the employees using the application to improve Network performance.</p></li><li class="listitem"><p>In order to prevent employees from accessing the SaaS apps without using WPC, whitelist the public IP address of WPC exit points in SaaS applications such that only login attempts from that pubic IP address will be accepted.</p></li></ol></div></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-174a61eb-fe60-1a29-1e25-34dcfb8927ad" data-publication-date="" id="UUID-05643316-6f92-48a8-73b1-b2d79e8cf81b"><div class="titlepage"><div><div class="title"><h3 class="title"><span class="bold"><strong>Solution</strong></span></h3></div></div></div><p>The high-level steps for Owen to achieve his objectives are as follows:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Owen needs to know the public IP address ranges of the SaaS applications. SaaS applications generally publish the IP address ranges they use to provide services so that customers can configure their firewalls. For example, Salesforce’s list of IP address ranges can be found <a class="link" href="https://help.salesforce.com/articleView?id=000321501&amp;type=1&amp;mode=1" target="_blank" rel="noopener">here</a> and Zendesk publishes it <a class="link" href="https://support.zendesk.com/hc/en-us/articles/203660846-Configuring-your-firewall-for-use-with-Zendesk" target="_blank" rel="noopener">here</a>.</p></li><li class="listitem"><p>The public IP addresses of the SaaS applications need to be configured as belonging to private Networks so that traffic to the SaaS applications enters the WPC.</p></li><li class="listitem"><p>The Network configured to represent the SaaS applications can have one or more Connectors. The Regions that are chosen for these Connectors can be in geographic proximity of the locations from which the employees will log in to the applications. See, <a class="link" href="https://openvpn.net/cloud-docs/user-guide-using-multiple-connectors-to-increase-reliability-of-remote-access/" target="_blank" rel="noopener">User Guide – Using multiple connectors to increase reliability of remote access</a> to learn more about how smart routing is used to improve Network performance.</p></li><li class="listitem"><p>The computing instances running the Connector for these Networks need to be set up as an Internet Gateway using the public IP address for NAT. These public IP addresses can then be used to whitelist login access in the SaaS apps.</p></li><li class="listitem"><p>Access Groups need to be used to allow access of specific User Groups to applicable Networks representing SaaS applications.</p></li><li class="listitem"><p>To enforce role-based access control using SSO, the department of the employees need to be passed as a SAML attribute and mapped to User Group.</p></li></ol></div></section></section><section xml:lang="en" lang="en" dir="ltr" class="section" data-origin-id="UUID-e4a1730b-d021-1f0f-97d8-0ff768fc77fa" data-publication-date="" id="UUID-85ef1b42-88da-69ef-48f3-68985d81dffb"><div class="titlepage"><div><div class="title"><h2 class="title" style="clear: both"><span class="bold"><strong>Setup</strong></span></h2></div></div></div><p>Owen followed the steps shown below to add group-level SaaS access control for the Sales and Support departments to Salesforce and Zendesk respectively.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Configured a Network named ‘SalesforceAccess’ to represent Salesforce and entered the Salesforce public IP address ranges (found <a class="link" href="https://help.salesforce.com/articleView?id=000321501&amp;type=1&amp;mode=1" target="_blank" rel="noopener">here</a>) as the <span class="bold"><strong>Subnets</strong></span> for the <span class="bold"><strong>Network</strong></span>. See, <a class="link" href="https://openvpn.net/cloud-docs/adding-a-network/" target="_blank" rel="noopener">How to add a Network</a></p><div class="mediaobject"><img src="/cloud-docs/image/uuid-6d0eb174-309a-42bb-2c4b-f97985851933.png" style="" alt="62ead8444245f.png"></img></div></li><li class="listitem"><p>Owen configured the Region of the Connector as San Jose, CA because the Sales team was based in California. Using a Virtual Private Server (VPS) hosting provider that had a hosting region near San Jose, he installed the Connector on a Linux VPS and configured the server to act as the Internet Gateway. The server was assigned a public IP address of <code class="code">104.248.61.65</code>. See, <a class="link" href="https://openvpn.net/cloud-docs/connecting-networks-to-openvpn-cloud-using-connectors/" target="_blank" rel="noopener">Connecting Networks to CloudConnexa Using Connectors</a> on how to install Connectors and the corresponding settings to enable routing and NAT. We recommend using a Linux operating system.</p></li><li class="listitem"><p>Next, He configured a Network named ‘ZendeskAccess’ to represent Zendesk and entered the Zendesk public IP address ranges (found <a class="link" href="https://support.zendesk.com/hc/en-us/articles/203660846-Configuring-your-firewall-for-use-with-Zendesk" target="_blank" rel="noopener">here</a>) as the <span class="bold"><strong>Subnets</strong></span> for the <span class="bold"><strong>Network</strong></span>. See, <a class="link" href="https://openvpn.net/cloud-docs/adding-a-network/" target="_blank" rel="noopener">How to add a Network</a></p></li><li class="listitem"><p>Owen configured the Region of the Connector as Chicago because the Support team was based in the midwest. Using a Virtual Private Server (VPS) hosting provider that had a hosting region near Chicago, he installed the Connector on a Linux VPS and configured the server to act as the Internet Gateway. The server was assigned a public IP address of <code class="code">167.71.139.124</code>. See, <a class="link" href="https://openvpn.net/cloud-docs/connecting-networks-to-openvpn-cloud-using-connectors/" target="_blank" rel="noopener">Connecting Networks to CloudConnexa Using Connectors</a> on how to install Connectors and the corresponding settings to enable routing and NAT. We recommend using a Linux operating system.</p></li><li class="listitem"><p>To allow only the Sales team to access Salesforce, Owen created a new Access Group (see, <a class="link" href="https://openvpn.net/cloud-docs/add-access-group/" target="_blank" rel="noopener">Adding an Access Group</a>) providing the User Group named Sales access to the SalesforceAccess Network. Similarly, he created another Access Group to provide the User Group named Support access to the ZendeskAccess Network.</p><div class="mediaobject"><img src="/cloud-docs/image/uuid-22b60e18-faed-677c-6485-5c390bc5ad6a.png" style="" alt="62ead84633893.png"></img></div></li><li class="listitem"><p>As SAML with OneLogin is being used for User Authentication (see, <a class="link" href="https://openvpn.net/cloud-docs/using-saml-for-user-authentication-with-onelogin-as-the-identity-provider/" target="_blank" rel="noopener">Using SAML for User authentication with OneLogin as the Identity Provider</a>) and the employee’s department is being mapped to User Group, the access controls configured earlier will work as soon as an employee is authenticated and mapped into the appropriate User Group.</p></li><li class="listitem"><p>Now, once an employee from the Sales department connects to the WPC, she will get associated with the Sales User Group. The traffic generated by her login request to Salesforce will flow inside the WPC tunnel and will be routed by CloudConnexa to egress out of the San Jose Connector for SalesforceAccess Network. The traffic will have the source IP address of <code class="code">104.248.61.65</code> when it reaches Salesforce servers.</p></li><li class="listitem"><p>In order to prevent employees from directly logging into Salesforce without the use of WPC, Owen has configured <code class="code">104.248.61.65</code> as the only source IP address from which to allow logins in Salesforce. See, <a class="link" href="https://help.salesforce.com/articleView?id=admin_loginrestrict.htm&amp;type=5" target="_blank" rel="noopener">https://help.salesforce.com/articleView?id=admin_loginrestrict.htm&amp;type=5</a>. A similar precaution is taken by Owen for Zendesk.</p></li></ol></div><p>With all the configuration done, role-based access control can now be enforced even on SaaS applications at the Network-level.</p></section></section><div class="footer-content"><div class="glossary-definitions"></div></div><footer></footer></div></article><aside class="section-nav-container"><ul class="section-nav nav"><li><a href="#UUID-28586893-399b-e40a-154f-8c1c67a23ad1">User Guide - Using WPC for role-based access control to SaaS applications</a></li><li><a href="#UUID-4d3ef1c2-630e-a328-7dc9-4db26afd506e">Overview</a><ul class="nav"><li><a href="#UUID-13d985bb-2811-c759-0bbf-0c8a40278f5a">Objectives</a></li><li><a href="#UUID-05643316-6f92-48a8-73b1-b2d79e8cf81b">Solution</a></li></ul></li><li><a href="#UUID-85ef1b42-88da-69ef-48f3-68985d81dffb">Setup</a></li></ul></aside><article id="search-result-wrapper"><div class="search-container" style="display: none;"><h2>Search results</h2><ul class="searchresults"></ul><p class="noresults">No results found</p></div></article><div class="feedback-panel"><div class="voting-title">Was this helpful?</div><div class="btn-group btn-group-toggle" data-toggle="buttons"><button id="feedback-yes-btn" class="btn toggle-yes">Yes</button><button id="feedback-no-btn" class="btn">No</button></div></div></main><div id="bottom-pager"><ul class="pager"><li class="previous"><a accesskey="p" class="prev pull-left prev visible-lg visible-md" id="header-navigation-prev" href="user-guide---whitelisting-access-to-saas-for-a-distributed-workforce.html">Prev</a></li><li class="next"><a accesskey="n" class="pull-right next visible-lg visible-md" id="header-navigation-next" href="cyber-shield.html">Next</a></li></ul></div><footer class="site-footer"><div class="inner"><div class="copyright"> © 2023  </div><div class="publication-date"><span class="publication-date-text">Publication date</span><span class="pubdate-delimiter">: </span><span class="formatted-date"></span></div></div></footer></div></div></div></div><script type="text/javascript">
var theme = '0';

			
			window.versionsfile = '';


			window.indexDict = new Array();
			window.store = {};
			window.portalLanguage = 'en';
			window.enterKey = 'select';
			
			
				var fuse_threshold = 0.3;
			
					var local_csh = false;
				
					var anchoroption = true;
				var instantsearch_minlength = 1;
						
			var useanchorlinks = false;
			
				useanchorlinks = true;
				
				var clicktocopy = 'Click to copy link';
				var linkcopied =  'Copied!';</script><script src="/cloud-docs/js/jquery-3/jquery-3.4.1.min.js" type="text/javascript"></script><script src="/cloud-docs/js/jquery-migrate-3.0.1.min.js" type="text/javascript"></script><script src="/cloud-docs/js/materialize.min.js" type="text/javascript"></script><script src="/cloud-docs/js/bootstrap.min.js" type="text/javascript"></script><script src="/cloud-docs/js/purl.js" type="text/javascript"></script><script src="/cloud-docs/js/jquery.smartmenus.js" type="text/javascript"></script><script src="/cloud-docs/administrator/js/toc.js" type="text/javascript"></script><script src="/cloud-docs/js/create-toc.js" type="text/javascript"></script><script src="/cloud-docs/js/html5-2-mp-common.js" type="text/javascript"></script><script src="/cloud-docs/js/html5-2.js" type="text/javascript"></script><script src="/cloud-docs/js/checklist.js" type="text/javascript"></script><script src="/cloud-docs/js/clipboard.min.js" type="text/javascript"></script><script src="/cloud-docs/js/anchorlinks.js" type="text/javascript"></script><script src="/cloud-docs/js/html5.algoliasearch.js" type="text/javascript"></script><script src="/cloud-docs/js/csh.js" type="text/javascript"></script><script src="/cloud-docs/js/layout-custom-script.js" type="text/javascript"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML" async="async"></script><script type="text/javascript">const containerId = 'GTM-W3DL2JV';

						$(document).on('cookies.consented', () => {
							(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
								new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
								j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
								'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
							})(window,document,'script','dataLayer',containerId);
						});
					</script><script type="text/javascript" src="/cloud-docs/js/cookie-consent.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script><script type="text/javascript">
			$(document).ready(function() {

				$('pre:not(.embedcode)').each(function() {
					/**
					 * @type {string}
					 */
					var language = $(this).data('language');

					if (language === 'plaintext' || language === 'text') {
						$(this).addClass(language).addClass('hljs');
						return true;
					}
					else {
						var clone = this.cloneNode(true);
						hljs.highlightBlock(clone);
						$(this).empty().append($(clone).contents());
						$(this).attr("class", $(clone).attr("class"));
					}
				});
			});
			</script><script type="text/javascript">var publication_id = 'docs_index';
var algolia_application_id = 'RSWCYN6WCZ';
var algolia_search_only_api_key = '62cb66cce7985fc867c172fa2d12bc1c';
</script><script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><!--Google Tag Manager (noscript)--><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W3DL2JV" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!--End Google Tag Manager (noscript)--></body></html>
